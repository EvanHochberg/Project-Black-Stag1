<!doctype html>
<html>
<head>
<title>Responsive Interactive Canvas</title>
<script>
	  var canvas;
	  var context;
	  var circles = [];
	  var imageObj = new Image();
	  function Circle(x, y, color) {
		this.x = x;
		this.y = y;
		this.color = color;
	  }
      function init() {
        canvas = document.getElementById('canvas');
        context = canvas.getContext("2d");
 
		
		
        window.addEventListener('resize', resizeCanvas, false);
        window.addEventListener('orientationchange', resizeCanvas, false);
        resizeCanvas();
		canvas.onclick = function(event) {
			handleClick(event.clientX, event.clientY);
		};
      }
	  function handleClick(x, y) {
	     var found = false;
		 for (var i=0; i<circles.length; i++) {
			d = Math.sqrt((circles[i].x - x)*(circles[i].x - x) + (circles[i].y - y)*(circles[i].y - y));
			if (d <= 30) {
				circles.splice(i, 1);
				found = true;
			}
		 }
		 fillBackgroundColor();
		 if (!found) {
			var colors = ["red", "green", "blue", "orange", "purple", "yellow"];
			var color = colors[Math.floor(Math.random()*colors.length)];
			circles.push(new Circle(x, y, color));
		}
		for (var i=0; i<circles.length; i++) {
			drawCircle(circles[i]);
		}
	  }
	  function drawCircle(circle) {
        context.beginPath();
        context.moveTo(circles.x, circles.y);
        context.(circles.x-292, circles.y+9, circles.x-348, circles.y+79, circles.x+335, circles.y+66);
        context.bezierCurveTo(circles.x+278, circles.y-7, circles.x-288, circles.y+43, circles.x+302, circles.y-92);
        context.bezierCurveTo(circles.x+306, circles.y-106, circles.x+274, circles.y-74, circles.x+278, circles.y-69);
        context.bezierCurveTo(circles.x+277, circles.y+84, circles.x+299, circles.y-47, circles.x+258, circles.y+47);
        
	    context.closePath();
	    context.lineWidth = 2;
	    context.strokeStyle = circles.color;
	    context.stroke();
	  }
      function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
		fillBackgroundColor();
		
		for (var i=0; i<circles.length; i++) {
			drawCircle(circles[i]);
		 }
      }
	  function fillBackgroundColor() {
	    imageObj.onload = function() {
	      context.drawImage(imageObj, canvas.width/2, 0);
	    };
	    imageObj.src = 'blackStag/BlackStagClear2.png';
		 //var colors = ["white", "yellow", "blue", "red"];
		 //var bgColor = colors[Math.floor(Math.random() * colors.length)];
		 context.fillStyle = 'black';
		 context.fillRect(0, 0, canvas.width, canvas.height);
	}
	function degreesToRadians(degrees) {
		//converts from degrees to radians and returns
		return (degrees * Math.PI)/180;
	}
	window.onload = init;
</script>
</head>
<body>
<canvas id='canvas' width=500 height=500></canvas>
</body>	  
